---
sidebar_position: 1
---

import { CommandLine } from "@site/src/components/command-line";

# 🔧 プラグイン管理コマンド

プラグインのインストール、削除、一覧表示などを行うコマンドです。

## インストール・追加

<CommandLine status="stable" command="mpm add <pluginName>" />
リポジトリファイルからプラグインを管理対象に追加します。`repository/<pluginName>.json`を読み込みます。

**使用例:**
```bash
/mpm add QuickShop
/mpm add LuckPerms
```

事前に`repository/<pluginName>.json`ファイルが必要です。
ファイルは手動で作成するか、`mpm create-repo`コマンドで自動生成できます。

---

<CommandLine status="stable" command="mpm install" />
`mpm-config.json`に記載されたすべてのプラグインをインストールします。引数なしで実行します。

**使用例:**
```bash
# mpm addで追加したプラグインを一括インストール
/mpm install
```

このコマンドは：
- `mpm-config.json`に記載されたすべてのプラグインをダウンロード
- プラグインファイルを`plugins/`ディレクトリに配置
- `managed/`ディレクトリにメタデータを保存

---

<CommandLine status="deprecated" command="mpm install <url> [fileNameRegex]" />

**非推奨**: URLから直接プラグインをインストールする形式は削除されました。

新しいワークフローを使用してください：
```bash
# 旧方式（削除済み）
/mpm install https://modrinth.com/plugin/quickshop-hikari

# 新方式
/mpm create-repo QuickShop https://modrinth.com/plugin/quickshop-hikari
/mpm add QuickShop
/mpm install
```

## アンインストール・削除

<CommandLine status="stable" command="mpm uninstall <pluginName>" />
プラグインをアンインストールします。プラグインファイルを削除し、`mpm-config.json`から設定を削除します。

**使用例:**
```bash
/mpm uninstall QuickShop
```

このコマンドは：
- プラグインファイルを`plugins/`から削除
- `mpm-config.json`から設定を削除
- `managed/`のメタデータを削除

---

<CommandLine status="proposal" command="mpm remove <pluginName>" />
プラグインを管理対象から除外します。`mpm uninstall`と異なり、プラグインファイルは削除されません。

**使用例:**
```bash
/mpm remove QuickShop
```

**用途:**
- プラグインを手動で管理したい場合
- 一時的にmpm管理下から外したい場合

---

<CommandLine status="proposal" command="mpm removeUnmanaged" />
mpm管理下にないプラグインを削除します。

**使用例:**
```bash
/mpm removeUnmanaged
```

:::warning 注意
管理外プラグインを保持したい場合は、`plugins/MinecraftPluginManager/local/`に移動してください。
:::

## 一覧表示

<CommandLine status="newly" command="mpm list [[options]]" />
インストールされているプラグインの一覧を表示します。

**オプション:**
- `--all` すべてのプラグインを表示します（デフォルト）
- `--enabled` 有効化されているプラグインを表示します
- `--disabled` 無効化されているプラグインを表示します
- `--unmanaged` 管理外のプラグインを表示します
- `--managed` 管理下のプラグインを表示します

**使用例:**
```bash
# すべてのプラグインを表示
/mpm list

# 有効なプラグインのみ表示
/mpm list --enabled

# 管理外のプラグインのみ表示
/mpm list --unmanaged
```

## 更新管理

<CommandLine status="proposal" command="mpm outdated <plugin>" />
プラグインの更新を確認します。

**使用例:**
```bash
/mpm outdated QuickShop
```

---

<CommandLine status="proposal" command="mpm outdatedAll" />
インストールされているすべてのプラグインの更新を確認します。

**使用例:**
```bash
/mpm outdatedAll
```

---

<CommandLine status="proposal" command="mpm update" />
`/mpm outdated` によって新しいバージョンがあるとされたプラグインを更新します。

**使用例:**
```bash
/mpm update
```

---

<CommandLine status="proposal" command="mpm lock <plugin>" />
プラグインをロックします。ロックをしたプラグインは、`mpm outdatedAll`で更新されません。

**使用例:**
```bash
/mpm lock QuickShop
```

**用途:**
- 特定バージョンを固定したい場合
- 自動更新を防ぎたい場合

---

<CommandLine status="proposal" command="mpm unlock <plugin>" />
プラグインのロックを解除します。

**使用例:**
```bash
/mpm unlock QuickShop
```

## 情報表示

<CommandLine status="proposal" command="mpm info <plugin>" />
プラグインの情報を表示します。詳細な情報（名前、バージョン、メインクラス、説明、作者、ウェブサイト、APIバージョンなど）が表示されます。

**使用例:**
```bash
/mpm info QuickShop
```

---

<CommandLine status="proposal" command="mpm search <plugin>" />
プラグインを検索します。

**使用例:**
```bash
/mpm search QuickShop
```

---

<CommandLine status="proposal" command="mpm help" />
ヘルプを表示します。

**使用例:**
```bash
/mpm help
```

---

<CommandLine status="proposal" command="mpm version" />
バージョンを表示します。

**使用例:**
```bash
/mpm version
```

## プラグインローディング

<CommandLine status="proposal" command="mpm jarinfo <file>" />
指定したJARファイルのプラグイン情報を表示します。

**使用例:**
```bash
/mpm jarinfo QuickShop-Hikari-6.0.0.jar
```

---

<CommandLine status="proposal" command="mpm load <file>" />
指定したプラグインファイルを読み込みます。

**使用例:**
```bash
/mpm load QuickShop-Hikari-6.0.0.jar
```

---

<CommandLine status="proposal" command="mpm unload <plugin>" />
指定したプラグインをアンロードします。

**使用例:**
```bash
/mpm unload QuickShop
```

## 関連ドキュメント

- [リポジトリ管理コマンド](/commands/repo) - リポジトリファイルの作成・管理
- [はじめに](/usage/getting-started) - 基本的な使い方
- [プラグインを管理する](/usage/install) - 詳細なワークフロー
